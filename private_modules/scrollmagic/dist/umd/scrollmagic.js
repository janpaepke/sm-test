/*!
 * ScrollMagic v3.0.0-alpha
 * Author: Jan Paepke (https://janpaepke.de)
 * Contributors: Stefan Knop
 * Generated: 2021-03-23
 * License: (MIT OR GPL-3.0+)
 * Docs & Demos: https://scrollmagic.io
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ScrollMagic={})}(this,(function(t){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,n)};function n(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+n+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function o(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var s,c,u,a=function(t){return"number"==typeof t},l=function(t){return"string"==typeof t},h=function(t){return void 0===t},f=function(t){return null===t},d=function(t){return t instanceof Window},p=function(t){return t instanceof HTMLElement},v=function(t){return t instanceof SVGElement},b=function(){function t(){this.callbacks=new Map}return t.prototype.addEventListener=function(t,e){var n=this,r=this.callbacks.get(t);return h(r)&&(r=[],this.callbacks.set(t,r)),r.push(e),function(){return n.removeEventListener(t,e)}},t.prototype.removeEventListener=function(t,e){var n=this.callbacks.get(t);if(!h(n)){var r=n.filter((function(t){return t!==e}));this.callbacks.set(t,r)}},t.prototype.dispatchEvent=function(t){var e=this.callbacks.get(t.type);h(e)||e.forEach((function(e){return e(t)}))},t}(),g=function(t){var e=d(t)?document.documentElement:t,n=e.clientWidth,r=e.scrollHeight,i=e.scrollWidth,o=e.clientHeight;if(d(t)){var s=t.innerHeight;s-15>o&&(o=s)}return{clientWidth:n,clientHeight:o,scrollHeight:r,scrollWidth:i}},m=function(t){return d(t)?window.pageYOffset:t.scrollTop},y=function(t){return d(t)?window.pageXOffset:t.scrollLeft},E=function(t){return{left:y(t),top:m(t)}},P=function(t,e,n,r){return t.addEventListener(e,n,r),t.removeEventListener.bind(t,e,n,r)},S=function(t){var e=0,n=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];0===e&&(e=requestAnimationFrame((function(){e=0,t.apply(n,r)})))};return n.cancel=function(){cancelAnimationFrame(e),e=0},n},w=function(t,e,n){void 0===n&&(n={deltaX:0,deltaY:0}),this.target=t,this.type=e,this.scrollDelta=n},O="scroll",z="resize",C=function(){function t(t){this.scrollParent=t,this.dimensions={clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},this.scrollPos={top:0,left:0},this.dispatcher=new b,this.cleanups=[];var e,n,r,i,o=S(this.updateScrollPos.bind(this)),s=(e=this.updateDimensions.bind(this),n=100,r=0,(i=function(){for(var t=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];clearTimeout(r),r=window.setTimeout((function(){r=0,e.apply(t,i)}),n)}).cancel=function(){clearTimeout(r),r=0},i);this.cleanups.push(o.cancel,s.cancel,this.subscribeScroll(o),this.subscribeResize(s)),this.updateScrollPos(),this.updateDimensions()}return t.prototype.updateScrollPos=function(){var t=this.scrollPos;this.scrollPos=E(this.scrollParent);var e=this.scrollPos.top-t.top,n=this.scrollPos.left-t.left;this.dispatcher.dispatchEvent(new w(this,O,{deltaX:n,deltaY:e}))},t.prototype.updateDimensions=function(){this.dimensions=g(this.scrollParent),this.dispatcher.dispatchEvent(new w(this,z))},t.prototype.subscribeResize=function(t){var e=this.scrollParent;if(d(e))return P(e,z,t);var n=new ResizeObserver(t);return n.observe(e),function(){return n.unobserve(e)}},t.prototype.subscribeScroll=function(t){return P(this.scrollParent,O,t)},t.prototype.subscribe=function(t,e){return this.dispatcher.addEventListener(t,e)},Object.defineProperty(t.prototype,"size",{get:function(){return this.dimensions},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.cleanups.forEach((function(t){return t()})),this.cleanups=[]},t}(),B="ScrollMagic",j=function(t){function e(e){var n=t.call(this,e)||this;return n.name=B+"Error",n}return n(e,t),e}(Error),k=function(t){function e(e){return t.call(this,"Internal Error: "+e)||this}return n(e,t),e}(j),x=function(t){return new j(t)},M=function(t){return new k(t)},L=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];null==console||console.warn.apply(console,o([B+" Warning: "+t],i(e)))},T=function(){function t(t){this.scene=t,this.unsubscribers=[]}return t.prototype.attach=function(e,n){h(this.container)||this.detach();var r=t.cache.get(e);h(r)&&(r=[new C(e),new Set],t.cache.set(e,r));var o=i(r,2),s=o[0];o[1].add(this.scene),this.container=s,this.unsubscribers=[s.subscribe("resize",n),s.subscribe("scroll",n)]},t.prototype.detach=function(){if(!h(this.container)){var e=this.container.scrollParent,n=t.cache.get(e);if(h(n))throw M("No cache info for scrollParent");var r=i(n,2),o=r[0],s=r[1];s.delete(this.scene),this.unsubscribers.forEach((function(t){return t()})),this.unsubscribers=[],0===s.size&&(o.destroy(),t.cache.delete(e)),this.container=void 0}},Object.defineProperty(t.prototype,"rect",{get:function(){if(h(this.container))throw M("Can't get size when not attached to a container");return this.container.size},enumerable:!1,configurable:!0}),t.cache=new Map,t}(),I=function(){function t(t,e){this.execute=t,this.onSchedule=e,this.conditions=[]}return t.prototype.schedule=function(t){h(t)&&(this.conditions=[],t=function(){return!0}),this.conditions.push(t),this.onSchedule()},t.prototype.resetConditions=function(){this.conditions=[]},Object.defineProperty(t.prototype,"conditionsMet",{get:function(){return this.conditions.some((function(t){return t()}))},enumerable:!1,configurable:!0}),t}(),D=function(){function t(t){var e=this;this.executeThrottled=S(this.execute.bind(this)),this.commands=Object.entries(t).reduce((function(t,n){var o,s=i(n,2),c=s[0],u=s[1];return r(r({},t),((o={})[c]=new I(u,e.executeThrottled),o))}),{})}return t.prototype.execute=function(){Object.values(this.commands).forEach((function(t){t.conditionsMet&&t.execute(),t.resetConditions()}))},t.prototype.cancel=function(){this.executeThrottled.cancel()},t}(),H={element:null,scrollParent:window,vertical:!0,triggerStart:null,triggerEnd:null,elementStart:0,elementEnd:0},R={default:function(t){return t},fallback:function(){return 0}},W={start:"top",end:"bottom",size:"height",clientSize:"clientHeight",scrollSize:"scrollHeight",scrollDelta:"deltaY"},_={start:"left",end:"right",size:"width",clientSize:"clientWidth",scrollSize:"scrollWidth",scrollDelta:"deltaX"},F=function(t){return t?W:_},V=function(t,e){return Object.entries(F(t)).reduce((function(t,n){var o,s=i(n,2),c=s[0],u=s[1];return r(r({},t),((o={})[c]=e[u],o))}),{})},U=function(t,e,n){return void 0===n&&(n=function(t,e,n){return"Invalid value "+t+" for "+e+". "+n}),Object.keys(t).reduce((function(r,i){var o,s,c=i,u=t[c],a=e[c];try{s=null!==(o=null==a?void 0:a(u))&&void 0!==o?o:u}catch(t){throw x(n(u,c,t.message))}return r[c]=s,r}),{})},X="center",Y=function(t){return 100*t+"%"},A=function(t){var e=i(t,2),n=e[0];return"px"===e[1]?function(){return n}:function(t){return n/100*t}},Q=function(t){if(a(t))return function(){return t};var e;if(l(t))return X===t?A([50,"%"]):function(t){var e=t.match(/^([+-])?(\d+|\d*[.]\d+)(%|px)$/);if(f(e))throw x("String value must be number with unit, i.e. 20px or 80% or 'center' (=50%)");var n=i(e,4),r=n[1],o=n[2],s=n[3];return A([parseFloat(""+(null!=r?r:"")+o),s])}(t);try{e=a(t(1))}catch(t){throw x("Unsupported value type")}if(!e)throw x("Function must return a number");return t},q=function(t){var e=l(t)?function(t){var e=document.querySelector(t);if(f(e))throw x("No element found for selector "+t);return e}(t):t,n=window.document.body;if(!p(e)&&!v(e)||!n.contains(e))throw x("Invalid element supplied");return e},G=function(t){return function(e){return f(e)?e:t(e)}},N=function(t,e){return f(t)||h(t)?e():t},$={element:G(q),scrollParent:function(t){if(d(t)||t instanceof Document)return window;var e=q(t);if(v(e))throw x("Can't use SVG as scrollParent");return e},vertical:function(t){return!!t},triggerStart:G(Q),triggerEnd:G(Q),elementStart:Q,elementEnd:Q},J=function(t){return function(t,e,n){return void 0===n&&(n=function(t){L("Unknown property "+t+" will be disregarded")}),Object.entries(t).reduce((function(t,r){var o=i(r,2),s=o[0],c=o[1];return s in e==0?(null==n||n(s),t):(t[s]=c,t)}),{})}(t,H)},K=function(t,e){var n=J(t),i=U(n,$),o=function(t){var e=t.scrollParent,n=t.element,r=function(t){return N(t,(function(){return f(n)?R.fallback:R.default}))};return U(t,{element:function(t){return N(t,(function(){var t=d(e)?document.body:e.firstElementChild;if(f(t)||!p(t)&&!v(t))throw x("Could not autodetect element, as scrollParent has no valid children.");return t}))},triggerStart:r,triggerEnd:r})}(r(r({},e),i));return function(t){var e=t.triggerStart,n=t.triggerEnd,i=t.elementStart,o=t.elementEnd,s=t.vertical,c=t.scrollParent,u=Z(t).size,a=V(s,g(c)).clientSize;u-i(u)-o(u)-(a-e(a)-n(a))<0&&L("Detected no overlap with the configured track options. This means ScrollMagic will not trigger unless this changes later on (i.e. due to resizes).",r(r({},t),{triggerStart:e(u),triggerEnd:n(u),elementStart:i(u),elementEnd:o(u)}))}(o),{sanitized:n,processed:o}},Z=function(t){var e=t.vertical,n=t.element;return V(e,n.getBoundingClientRect())};!function(t){t.Enter="enter",t.Leave="leave",t.Progress="progress"}(s||(s={})),function(t){t.Forward="forward",t.Reverse="reverse"}(c||(c={})),function(t){t.Start="start",t.Inside="inside",t.End="end"}(u||(u={}));var tt=function(t,e,n){this.target=t,this.type=e,this.location=s.Progress===e?u.Inside:s.Enter===e&&n||s.Leave===e&&!n?u.Start:u.End,this.direction=n?c.Forward:c.Reverse},et=function(t,e){var n,o=i(e,2),s=o[0],c=o[1];return r(r({},t),((n={})[s]=c,n))},nt=function(t,e){return Object.entries(t).filter((function(t){var n=i(t,2),r=n[0];return n[1]!==e[r]})).reduce(et,{})},rt=function(t,e){return parseFloat(t.toFixed(e))},it=function(t){return[t.top,t.right,t.bottom,t.left].join(" ")},ot="0px",st=function(){function t(t,e){this.callback=t,this.options={root:null,margin:{top:ot,right:ot,bottom:ot,left:ot}},this.observedElements=new Map,h(e)||(this.options=r(r({},this.options),e))}return t.prototype.observerCallback=function(t,e){var n=this;t.forEach((function(t){var r,o=t.target,s=t.isIntersecting,c=i(null!==(r=n.observedElements.get(o))&&void 0!==r?r:[],2),u=c[0],a=c[1],l=u&&a;e===n.observerEnter?u=s:a=s,n.observedElements.set(o,[u,a]);var f=u&&a;h(f)||l===f||n.callback(f,o)}))},t.prototype.createObserver=function(t){var e=this.options.root,n=new IntersectionObserver(this.observerCallback.bind(this),{root:e,rootMargin:t});return o([],i(this.observedElements.keys())).forEach((function(t){return n.observe(t)})),n},t.prototype.rebuildObserver=function(){var t,e;null===(t=this.observerEnter)||void 0===t||t.disconnect(),null===(e=this.observerLeave)||void 0===e||e.disconnect();var n=this.options.margin,i=function(t){return Math.max(0,parseFloat(t))+"%"},o=r(r({},n),{top:i(n.top)}),s=r(r({},n),{bottom:i(n.bottom)});this.observerEnter=this.createObserver(it(o)),this.observerLeave=this.createObserver(it(s))},t.prototype.optionsChanged=function(t){var e=t.root,n=t.margin;return!h(e)&&e!==this.options.root||!h(n)&&Object.keys(nt(n,this.options.margin)).length>0},t.prototype.modify=function(t){return this.optionsChanged(t)?(this.options=r(r({},this.options),t),this.rebuildObserver(),this):this},t.prototype.observe=function(t){var e,n;return this.observedElements.has(t)||(this.observedElements.set(t,[void 0,void 0]),null===(e=this.observerEnter)||void 0===e||e.observe(t),null===(n=this.observerLeave)||void 0===n||n.observe(t)),this},t.prototype.unobserve=function(t){var e,n;return this.observedElements.has(t)&&(this.observedElements.delete(t),null===(e=this.observerEnter)||void 0===e||e.unobserve(t),null===(n=this.observerLeave)||void 0===n||n.unobserve(t)),this},t.prototype.disconnect=function(){var t,e;this.observedElements.clear(),null===(t=this.observerEnter)||void 0===t||t.disconnect(),null===(e=this.observerLeave)||void 0===e||e.disconnect()},t}(),ct=function(){function t(e){void 0===e&&(e={}),this.name="ScrollMagic",this.dispatcher=new b,this.container=new T(this),this.resizeObserver=new ResizeObserver(S(this.onElementResize.bind(this))),this.viewportObserver=new st(this.onIntersectionChange.bind(this)),this.executionQueue=new D({elementBounds:this.updateElementBoundsCache.bind(this),containerBounds:this.updateContainerBoundsCache.bind(this),viewportObserver:this.updateViewportObserver.bind(this),progress:this.updateProgress.bind(this)}),this.update=this.executionQueue.commands,this.optionsPublic=t.defaultOptionsPublic,this.elementBoundsCache={start:0,size:0,offsetStart:0,offsetEnd:0,trackSize:0},this.containerBoundsCache={clientSize:0,offsetStart:0,offsetEnd:0,trackSize:0,scrollSize:0},this.currentProgress=0;var n=r(r({},t.defaultOptionsPublic),e);this.modify(n)}return t.prototype.getViewportMargin=function(){var t,e=this.optionsPrivate.vertical,n=F(e),r=n.start,i=n.end,o=F(!e),s=o.start,c=o.end,u=V(!e,this.container.rect),a=u.scrollSize,l=u.clientSize,h=this.containerBoundsCache,f=h.clientSize,d=h.offsetStart,p=h.offsetEnd,v=this.elementBoundsCache,b=v.offsetStart,g=f-p+v.offsetEnd,m=f<=0,y=m?0:-rt((f-d+b)/f,5),E=m?0:-rt(g/f,5),P=l<=0?0:Y((a-l)/l);return(t={})[i]=Y(y),t[r]=Y(E),t[s]=P,t[c]=P,t},t.prototype.getTrackSize=function(){return this.elementBoundsCache.trackSize+this.containerBoundsCache.trackSize},t.prototype.updateIntersectingState=function(t){this.intersecting=t},t.prototype.updateElementBoundsCache=function(){var t=this.optionsPrivate,e=t.elementStart,n=t.elementEnd,r=t.element,i=t.vertical,o=V(i,r.getBoundingClientRect()),s=o.start,c=o.size,u=e(c),a=n(c);this.elementBoundsCache={start:s,size:c,offsetStart:u,offsetEnd:a,trackSize:c-u-a}},t.prototype.updateContainerBoundsCache=function(){var t=this.optionsPrivate,e=t.triggerStart,n=t.triggerEnd,r=t.vertical,i=V(r,this.container.rect),o=i.clientSize,s=i.scrollSize,c=e(o),u=n(o);this.containerBoundsCache={clientSize:o,scrollSize:s,offsetStart:c,offsetEnd:u,trackSize:-(o-c-u)}},t.prototype.updateProgress=function(){var t=this.elementBoundsCache,e=t.offsetStart,n=t.start,r=this.containerBoundsCache.offsetStart-(n+e),i=this.getTrackSize();if(!(i<0)){var o=this.currentProgress,c=Math.min(Math.max(r/i,0),1),u=c-o;if(0!==u){this.currentProgress=c;var a=u>0;0!==o&&1!==o||this.triggerEvent(s.Enter,a),this.triggerEvent(s.Progress,a),0!==c&&1!==c||this.triggerEvent(s.Leave,a)}}},t.prototype.updateViewportObserver=function(){var t=this.optionsPrivate.scrollParent,e={margin:this.getViewportMargin(),root:d(t)?null:t};this.viewportObserver.modify(e)},t.prototype.onOptionChanges=function(t){var e=t.includes.bind(t),n=e("elementStart"),r=e("elementEnd"),i=e("element"),o=e("scrollParent");if((n||r||i)&&(this.update.elementBounds.schedule(),i)){this.updateIntersectingState(void 0);var s=this.optionsPrivate.element;this.viewportObserver.disconnect(),this.viewportObserver.observe(s),this.resizeObserver.disconnect(),this.resizeObserver.observe(s)}o&&(this.update.containerBounds.schedule(),this.updateIntersectingState(void 0),this.container.attach(this.optionsPrivate.scrollParent,this.onContainerUpdate.bind(this))),this.update.viewportObserver.schedule()},t.prototype.onElementResize=function(){var t=this.update,e=this.elementBoundsCache,n=e.offsetStart,r=e.offsetEnd,i=function(){return n!==e.offsetStart||r!==e.offsetEnd};t.elementBounds.schedule(),t.viewportObserver.schedule(i),this.intersecting&&t.progress.schedule(i)},t.prototype.onContainerUpdate=function(t){var e=this,n=this.update;if("resize"!==t.type){var r=V(this.optionsPrivate.vertical,t.scrollDelta).scrollDelta;if(0!==r){var i=Math.abs(r)>this.getTrackSize();(this.intersecting||i)&&(n.elementBounds.schedule(),n.progress.schedule())}}else{this.update.containerBounds.schedule(),this.intersecting&&n.elementBounds.schedule(),n.viewportObserver.schedule();var o=this.elementBoundsCache.start;n.progress.schedule((function(){return o!==e.elementBoundsCache.start}))}},t.prototype.onIntersectionChange=function(t,e){e===this.optionsPrivate.element&&(this.updateIntersectingState(t),this.update.progress.schedule())},t.prototype.triggerEvent=function(t,e){this.dispatcher.dispatchEvent(new tt(this,t,e))},t.prototype.modify=function(t){var e=K(t,this.optionsPrivate),n=e.sanitized,i=e.processed;this.optionsPublic=r(r({},this.optionsPublic),n);var o=h(this.optionsPrivate)?i:nt(i,this.optionsPrivate),s=Object.keys(o);return 0===s.length||(this.optionsPrivate=i,this.onOptionChanges(s)),this},Object.defineProperty(t.prototype,"element",{get:function(){return this.optionsPublic.element},set:function(t){this.modify({element:t})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollParent",{get:function(){return this.optionsPublic.scrollParent},set:function(t){this.modify({scrollParent:t})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vertical",{get:function(){return this.optionsPublic.vertical},set:function(t){this.modify({vertical:t})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"triggerStart",{get:function(){return this.optionsPublic.triggerStart},set:function(t){this.modify({triggerStart:t})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"triggerEnd",{get:function(){return this.optionsPublic.triggerEnd},set:function(t){this.modify({triggerEnd:t})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementStart",{get:function(){return this.optionsPublic.elementStart},set:function(t){this.modify({elementStart:t})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementEnd",{get:function(){return this.optionsPublic.elementEnd},set:function(t){this.modify({elementEnd:t})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this.currentProgress},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollOffset",{get:function(){this.updateElementBoundsCache();var t=this.optionsPrivate,e=t.scrollParent,n=t.vertical,r=this.elementBoundsCache,i=r.start,o=r.offsetStart,s=r.trackSize,c=this.containerBoundsCache,u=c.clientSize,a=c.offsetStart,l=c.offsetEnd,h=i+V(n,E(e)).start+o,f=h+s;return{start:Math.floor(h-a),end:Math.ceil(f-u+l)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computedOptions",{get:function(){var t=this.containerBoundsCache,e=t.offsetStart,n=t.offsetEnd,i=this.elementBoundsCache,o=i.offsetStart,s=i.offsetEnd;return r(r({},this.optionsPrivate),{triggerStart:e,triggerEnd:n,elementStart:o,elementEnd:s})},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e){return this.dispatcher.addEventListener(t,e),this},t.prototype.off=function(t,e){return this.dispatcher.removeEventListener(t,e),this},t.prototype.subscribe=function(t,e){return this.dispatcher.addEventListener(t,e)},t.prototype.destroy=function(){this.executionQueue.cancel(),this.resizeObserver.disconnect(),this.viewportObserver.disconnect(),this.container.detach()},t.default=function(t){return void 0===t&&(t={}),this.defaultOptionsPublic=r(r({},this.defaultOptionsPublic),J(t)),this.defaultOptionsPublic},t.defaultOptionsPublic=H,t}();t.ScrollMagic=ct,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=scrollmagic.js.map
